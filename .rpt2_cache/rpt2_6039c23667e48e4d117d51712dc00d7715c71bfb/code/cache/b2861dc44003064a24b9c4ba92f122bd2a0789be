{
  "code": "import EventManager from \"../script/Singleton/EventManager\";\r\nimport GameData from \"../script/Singleton/GameData\";\r\nimport { EventName } from \"../script/Singleton/GameDefine\";\r\nimport Obj from \"./Obj\";\r\nexport default class Arrival extends Obj {\r\n    onAwake() {\r\n        super.onAwake();\r\n        this._arrival = this.owner;\r\n        this._boom = this._arrival.getChildByName(\"boom\");\r\n        EventManager.register(EventName.MINI_GAME_END, this._showBoom, this);\r\n    }\r\n    onDestroy() {\r\n        EventManager.unRegister(EventName.MINI_GAME_END, this._showBoom, this);\r\n    }\r\n    init(data) {\r\n        super.init(data);\r\n        this.setArrivalPosArray();\r\n        this._hideBoom();\r\n    }\r\n    setArrivalPosArray() {\r\n        GameData.arrival_pos_array.length = 0;\r\n        let pos_arr = [];\r\n        let pos_1 = this._arrival.transform.position.clone();\r\n        let pos_2 = new Laya.Vector3(pos_1.x - 2, pos_1.y, pos_1.z);\r\n        pos_arr.push(pos_2);\r\n        let pos_3 = new Laya.Vector3(pos_1.x + 2, pos_1.y, pos_1.z);\r\n        pos_arr.push(pos_3);\r\n        let pos_4 = new Laya.Vector3(pos_1.x, pos_1.y, pos_1.z + 2);\r\n        pos_arr.push(pos_4);\r\n        let pos_5 = new Laya.Vector3(pos_1.x, pos_1.y, pos_1.z - 2);\r\n        pos_arr.push(pos_5);\r\n        pos_arr.push(pos_1);\r\n        GameData.arrival_pos_array = pos_arr;\r\n    }\r\n    _hideBoom() {\r\n        if (this._boom.active) {\r\n            this._boom.active = false;\r\n        }\r\n    }\r\n    _showBoom() {\r\n        if (!this._boom.active) {\r\n            this._boom.active = true;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/EventManager.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/GameData.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/GameDefine.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Entity/Obj.ts"
  ]
}
