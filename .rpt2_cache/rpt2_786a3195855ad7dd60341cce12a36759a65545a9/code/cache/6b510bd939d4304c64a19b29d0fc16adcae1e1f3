{
  "code": "import { Constants } from \"../../Data/Constants\";\r\nimport GamePage from \"../Pages/GamePage\";\r\nimport AudioManager from \"../Singleton/AudioManager\";\r\nimport { PanelBase, UITYpes } from \"./PanelBase\";\r\nexport default class Setting extends PanelBase {\r\n    constructor() {\r\n        super();\r\n        this.type = UITYpes.PANEL;\r\n        Setting.instance = this;\r\n    }\r\n    onAwake() {\r\n        this._setting = this.owner;\r\n        this._uiBox = this._setting.getChildAt(0);\r\n        this._closeBtn = this._uiBox.getChildByName(\"CloseBtn\");\r\n        this._vibrateToggle = this._uiBox.getChildByName(\"Vibrate\").getChildByName(\"VibrateToggle\");\r\n        this._audioToggle = this._uiBox.getChildByName(\"Audio\").getChildByName(\"AudioToggle\");\r\n    }\r\n    onStart() {\r\n        this._closeBtn.on(Laya.Event.CLICK, this, this.onCloseBtnClick);\r\n        this._vibrateToggle.on(Laya.Event.CLICK, this, this.onVibrateToggleClick);\r\n        this._audioToggle.on(Laya.Event.CLICK, this, this.onAudioToggleClick);\r\n    }\r\n    show() {\r\n        super.show();\r\n        this._refreshSettingUI();\r\n    }\r\n    hide() {\r\n        super.hide();\r\n    }\r\n    _refreshSettingUI() {\r\n        if (AudioManager.instance().getVibrate()) {\r\n            this._vibrateToggle.skin = \"textures/toggle_on.png\";\r\n        }\r\n        else {\r\n            this._vibrateToggle.skin = \"textures/toggle_off.png\";\r\n        }\r\n        if (AudioManager.instance().getAudioMute()) {\r\n            this._audioToggle.skin = \"textures/toggle_off.png\";\r\n        }\r\n        else {\r\n            this._audioToggle.skin = \"textures/toggle_on.png\";\r\n        }\r\n    }\r\n    onVibrateToggleClick() {\r\n        AudioManager.instance().playEffect(\"Click\");\r\n        AudioManager.instance().setVibrate(!AudioManager.instance().getVibrate());\r\n        this._refreshSettingUI();\r\n    }\r\n    onAudioToggleClick() {\r\n        AudioManager.instance().setAudioMute(!AudioManager.instance().getAudioMute());\r\n        AudioManager.instance().playEffect(\"Click\");\r\n        this._refreshSettingUI();\r\n    }\r\n    onCloseBtnClick() {\r\n        AudioManager.instance().playEffect(\"Click\");\r\n        GamePage.instance.hidePage(Constants.UIPage.setting, () => {\r\n        });\r\n    }\r\n}\r\nSetting.instance = null;\r\n",
  "references": [
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Data/Constants.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Pages/GamePage.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/AudioManager.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/UI/PanelBase.ts"
  ]
}
