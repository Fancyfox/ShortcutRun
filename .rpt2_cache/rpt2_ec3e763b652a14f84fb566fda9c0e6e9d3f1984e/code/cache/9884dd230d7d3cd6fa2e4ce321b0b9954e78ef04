{
  "code": "import { Constants } from \"../../Data/Constants\";\r\nimport GamePage from \"../Pages/GamePage\";\r\nimport EventManager from \"../Singleton/EventManager\";\r\nimport { EventName } from \"../Singleton/GameDefine\";\r\nimport { PanelBase, UITYpes } from \"./PanelBase\";\r\nexport default class Playing extends PanelBase {\r\n    constructor() {\r\n        super();\r\n        this.type = UITYpes.PANEL;\r\n        Playing.instance = this;\r\n    }\r\n    onAwake() {\r\n        this._playing = this.owner;\r\n        this._uiBox = this._playing.getChildAt(0);\r\n        this._moveArrow = this._uiBox.getChildByName(\"MoveArrow\");\r\n    }\r\n    onEnable() {\r\n        this._uiBox.on(Laya.Event.MOUSE_DOWN, this, this.hideMoveArrow.bind(this));\r\n        EventManager.register(EventName.MINI_GAME_RELIFE, this.showRelifeUI, this);\r\n        EventManager.register(EventName.MINI_GAME_DIE, this.showDieUI, this);\r\n        EventManager.register(EventName.MINI_GAME_END, this.showResultUI, this);\r\n    }\r\n    onDisable() {\r\n        this._uiBox.offAll();\r\n        EventManager.unRegister(EventName.MINI_GAME_RELIFE, this.showRelifeUI, this);\r\n        EventManager.unRegister(EventName.MINI_GAME_DIE, this.showDieUI, this);\r\n        EventManager.unRegister(EventName.MINI_GAME_END, this.showResultUI, this);\r\n    }\r\n    show(...args) {\r\n        super.show();\r\n        this.showMoveArrow();\r\n    }\r\n    hide() {\r\n        super.hide();\r\n        this.hideMoveArrow();\r\n    }\r\n    showMoveArrow() {\r\n        this._moveArrow.x = this._uiBox.width / 2;\r\n        this._moveArrow.y = this._uiBox.height / 3 * 2;\r\n        this._moveArrow.visible = true;\r\n    }\r\n    hideMoveArrow() {\r\n        if (this._moveArrow.visible) {\r\n            this._moveArrow.visible = false;\r\n        }\r\n    }\r\n    showRelifeUI() {\r\n        GamePage.instance.hidePage(Constants.UIPage.playing, () => {\r\n            GamePage.instance.showPage(Constants.UIPage.relife, null, 0);\r\n        });\r\n    }\r\n    showDieUI() {\r\n        GamePage.instance.hidePage(Constants.UIPage.playing, () => {\r\n            GamePage.instance.showPage(Constants.UIPage.relife, null, 1);\r\n        });\r\n    }\r\n    showResultUI() {\r\n        GamePage.instance.hidePage(Constants.UIPage.playing, () => {\r\n            GamePage.instance.showPage(Constants.UIPage.result);\r\n            GamePage.instance.showPage(Constants.UIPage.info, null, true, true, true);\r\n        });\r\n    }\r\n}\r\nPlaying.instance = null;\r\n",
  "references": [
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Data/Constants.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Pages/GamePage.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/EventManager.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/GameDefine.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/UI/PanelBase.ts"
  ]
}
