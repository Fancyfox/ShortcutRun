{
  "code": "import { CharactorManager } from \"../../Data/CharactorManager\";\r\nimport { Constants } from \"../../Data/Constants\";\r\nimport { MiniGameManager } from \"../../Data/MiniGameManager\";\r\nimport { SdkUitl } from \"../../Util/SdkUitl\";\r\nimport GamePage from \"../Pages/GamePage\";\r\nimport AudioManager from \"../Singleton/AudioManager\";\r\nimport GameDefine, { GameState } from \"../Singleton/GameDefine\";\r\nimport { PanelBase, UITYpes } from \"./PanelBase\";\r\nexport default class Home extends PanelBase {\r\n    constructor() {\r\n        super();\r\n        this.type = UITYpes.PANEL;\r\n        Home.instance = this;\r\n    }\r\n    onAwake() {\r\n        this._homeUI = this.owner;\r\n        this._uiBox = this._homeUI.getChildAt(0);\r\n        this._startBtn = this._uiBox.getChildByName(\"StartBtn\");\r\n        this._shareBtn = this._uiBox.getChildByName(\"ShareBtn\");\r\n        this._shopBtn = this._uiBox.getChildByName(\"ShopBtn\");\r\n    }\r\n    show(...args) {\r\n        super.show();\r\n    }\r\n    hide() {\r\n        super.hide();\r\n    }\r\n    onEnable() {\r\n        this._startBtn.on(Laya.Event.CLICK, null, this.startGame.bind(this));\r\n        this._shopBtn.on(Laya.Event.CLICK, null, this.showShopView.bind(this));\r\n        this._shareBtn.on(Laya.Event.CLICK, null, this.ShareGame.bind(this));\r\n    }\r\n    onDisable() {\r\n        this._startBtn.offAll();\r\n        this._shopBtn.offAll();\r\n        this._shareBtn.offAll();\r\n    }\r\n    startGame() {\r\n        if (GameDefine.gameState != GameState.Playing) {\r\n            AudioManager.instance().playEffect(\"Click\");\r\n            MiniGameManager.instance().StartGame();\r\n            GamePage.instance.hidePage(Constants.UIPage.info);\r\n            GamePage.instance.hidePage(Constants.UIPage.home, () => {\r\n                GamePage.instance.showPage(Constants.UIPage.playing);\r\n            });\r\n        }\r\n    }\r\n    showShopView() {\r\n        AudioManager.instance().playEffect(\"Click\");\r\n        GamePage.instance.hidePage(Constants.UIPage.home, () => {\r\n            GamePage.instance.showPage(Constants.UIPage.shop);\r\n        });\r\n    }\r\n    ShareGame() {\r\n        AudioManager.instance().playEffect(\"Click\");\r\n        SdkUitl.share(false, () => {\r\n            SdkUitl.ShowToast(\"分享成功，获得100金币！\");\r\n            CharactorManager.instance().addMoney(100);\r\n        }, () => {\r\n            SdkUitl.ShowToast(\"分享失败，请分享到不同的群\");\r\n        });\r\n    }\r\n}\r\nHome.instance = null;\r\n",
  "references": [
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Data/CharactorManager.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Data/Constants.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Data/MiniGameManager.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/Util/SdkUitl.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Pages/GamePage.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/AudioManager.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/GameData.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/Singleton/GameDefine.ts",
    "D:/WorkSpace/Laya2.6.1/ShortcutRun/src/script/UI/PanelBase.ts"
  ]
}
